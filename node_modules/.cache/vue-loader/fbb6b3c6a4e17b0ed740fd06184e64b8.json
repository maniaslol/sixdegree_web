{"remainingRequest":"/Users/chih-linliu/Desktop/sixdegrees_web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chih-linliu/Desktop/sixdegrees_web-master/src/views/inspectPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chih-linliu/Desktop/sixdegrees_web-master/src/views/inspectPage.vue","mtime":1541594019770},{"path":"/Users/chih-linliu/Desktop/sixdegrees_web-master/node_modules/cache-loader/dist/cjs.js","mtime":1541592870520},{"path":"/Users/chih-linliu/Desktop/sixdegrees_web-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport navbar from \"../components/navbar.vue\";\nimport sidebar from \"../components/sidebar.vue\";\nimport $ from \"jquery\";\nexport default {\n    components: {\n        navbar,\n        sidebar\n    },\n    name: \"inspectPage\",\n    props: {\n        msg: String\n    },\n    data() {\n        return {\n            domain: \"http://api.dev.sixdegreeworld.com\",\n            Token: \"\",\n            Token_type: \"\",\n            data: [\n                {\n                    media: []\n                }\n            ],\n            recommendData: [\n                {\n                    media: []\n                }\n            ],\n            navbarData: [],\n            popularData: [],\n            isLoading: false\n        };\n    },\n    computed: {\n        filterData: function () {\n            if (this.data.media == null || this.data.media == []) {\n                this.data.media = [\n                    {\n                        large: \"https://newweb.dev.sixdegreeworld.com/sixdegree.svg\"\n                    }\n                ];\n            } else {\n                return this.data;\n            }\n            return this.data;\n        },\n        filterRecommendData: function () {\n            let nowData = this.recommendData.map(function (el) {\n                if (el.media == [] || el.media == null) {\n                    el.media = {\n                        small: \"https://newweb.dev.sixdegreeworld.com/sixdegree.svg\"\n                    };\n                    return el;\n                } else {\n                    return el;\n                }\n            });\n            return nowData;\n        },\n        filterPopularData: function () {\n            let nowData = this.popularData.map(function (el) {\n                return el.name\n            })\n            return nowData;\n        }\n    },\n    methods: {\n        init() {\n            const vm = this;\n            vm.isLoading = true;\n            $.ajax({\n                //get token\n\n                type: \"Post\",\n                url: this.domain + \"/oauth/token/\",\n                data: {\n                    grant_type: \"client_credentials\",\n                    client_id: \"1\",\n                    client_secret: \"zSVE2Bd64icnRyo7VSo997rriPLDPMbY9LmmIurv\"\n                },\n                success: function (data) {\n                    vm.isLoading = false;\n                    if (data == \"\") {\n                        //沒資料的動作\n                    } else {\n                        vm.Token = data.data.access_token;\n                        vm.Token_type = data.data.token_type;\n                        //有資料的動作\n                        vm.getOneNews();\n                        vm.getRecommend();\n                        vm.getPopular();\n                        //取得文章資料\n                    }\n                },\n                failure: function (errMsg) {\n                    console.log(errMsg);\n                    //發生錯誤的動作\n                }\n            });\n        },\n        getOneNews() {\n            const id = this.$route.params.id;\n            console.log(id);\n            const api = this.domain + `/article/${id}`;\n            const vm = this;\n            vm.isLoading = true;\n            $.ajax({\n                type: \"Get\",\n                url: vm.domain + `/article/${id}`,\n                headers: {\n                    Authorization: vm.Token_type + \" \" + vm.Token,\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\n                },\n                success: function (data) {\n                    vm.isLoading = false;\n                    if (data == \"\") {\n                        //沒資料的動作\n                    } else {\n                        //有資料的動作\n                        vm.data = data.data;\n                        vm.isLoading = false;\n                    }\n                },\n                failure: function (errMsg) {\n                    console.log(errMsg);\n                    //發生錯誤的動作\n                }\n            });\n        },\n        getRecommend() {\n            const vm = this;\n            $.ajax({\n                type: \"Get\",\n                url: vm.domain + `/article/recommend?page=1&limit=10`,\n                headers: {\n                    Authorization: vm.Token_type + \" \" + vm.Token,\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\n                },\n                success: function (data) {\n                    vm.isLoading = false;\n                    if (data == \"\") {\n                        //沒資料的動作\n                    } else {\n                        //有資料的動作\n                        vm.recommendData = data.data;\n                    }\n                },\n                failure: function (errMsg) {\n                    console.log(errMsg);\n                    //發生錯誤的動作\n                }\n            });\n        },\n        getPopular() {\n            const vm = this;\n            vm.isLoading = true;\n            $.ajax({\n                type: \"Get\",\n                url: vm.domain + `/search/popular`,\n                headers: {\n                    \"Authorization\": vm.Token_type + \" \" + vm.Token,\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                },\n                success: function (data) {\n                    vm.isLoading = false;\n                    if (data == \"\") {\n                        //沒資料的動作\n                    } else {\n                        //有資料的動作\n                        vm.popularData = data.data;\n                        vm.isLoading = false;\n                    }\n                },\n                failure: function (errMsg) {\n                    console.log(errMsg);\n                    //發生錯誤的動作\n                }\n            })\n        },\n        toTop() {\n            $(\"html, body\").animate(\n                {\n                    scrollTop: 0\n                },\n                800\n            );\n        }\n    },\n    mounted() {\n        this.toTop();\n        this.init();\n    }\n};\n",{"version":3,"sources":["inspectPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inspectPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n        <!-- 網頁板herder----------------------------------------------------- -->\n\n        <nav class=\"container-fluid d-none d-lg-flex\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-md-2 col-lg-1\">\n                        <router-link to='/' class=\"logo\">\n                            <img src=\"../assets/Images/6degreesWeb/navBar/logo-light-blue.svg\" alt=\"icon\">\n                        </router-link>\n                    </div>\n\n                    <ul class=\"nav-list d-sm-block col-lg-5 col-md-8\">\n                        <li class=\"home\">\n                            <router-link to='/recommend'>首頁推薦</router-link>\n                        </li>\n                        <li v-for=\"(item, index) in navbarData \" :key=\"index\" v-if=\"index>0 & index < 7\">\n                            <router-link :to='\"/tagPage/\"+item.id' class=\"nav-item\">{{item.name}}</router-link>\n                        </li>\n                        <!-- <li class=\"dropdown show\">\n                            <a class=\"dropdown-toggle nav-item\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\"\n                                data-toggle=\"dropdown\">\n                                更多 <i class=\"fas fa-sort-down\"></i>\n                            </a>\n                            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                                <router-link class=\"dropdown-item\" :to='\"/tagPage/\"+item.id' v-for=\"(item, index) in navbarData\"\n                                    :key=\"index\" v-if=\"index>6\">{{item.name}}</router-link>\n                            </div>\n                        </li> -->\n                    </ul>\n                    <div class=\"user-bar col-lg-6 col-md-6 d-flex\">\n                        <div class=\"search-input\">\n                            <router-link :to=\"'/search/'+searchWorld\">\n                                <img src=\"../assets/Images/6degreesWeb/navBar/search.svg\" alt=\"\">\n                            </router-link>\n                            <!-- <vue-bootstrap-typeahead v-model=\"query\" :data=\"['Canada', 'USA', 'Mexico']\" class=\"new-input\" /> -->\n                            <input name=\"\" id=\"tags\" class=\"\" type=\"input\" value=\"\" placeholder=\"請輸入關鍵字\" v-model=\"searchWorld\"\n                                @keyup.enter=\"searchSubmit\">\n                        </div>\n\n                        <div class=\"user-donate\"><a href=\"#\">點數 <img src=\"../assets/Images/6degreesWeb/icon/grayMoney.svg\"\n                                    alt=\"\">\n                            </a></div>\n                        <!-- <div class=\"dropdown show\">\n                            <a class=\"dropdown-toggle user-language\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\"\n                                data-toggle=\"dropdown\">\n                                繁體中文<i class=\"fas fa-sort-down\"></i>\n                            </a>\n                            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                                <a class=\"dropdown-item\" href=\"#\">繁體中文</a>\n                                <a class=\"dropdown-item\" href=\"#\">簡體中文</a>\n                            </div>\n                        </div> -->\n                        <router-link class=\"user-photo\" to=\"/profile\">\n                            <div class=\"user-img\"><img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS0_2nqm0H20gpO-Pf9BsBwuAYt3McWcb-6rFs37i244h71Lyrnkg\"\n                                    alt=\"\">\n                            </div>\n                            <i class=\"fas fa-angle-down\"></i>\n                        </router-link>\n                    </div>\n                </div>\n            </div>\n\n        </nav>\n\n\n        <!-- 平板header------------------------------------------------------------------ -->\n\n        <nav class=\"container-fluid pad-header d-lg-none d-sm-block d-none\">\n            <div class=\"row\">\n                <div class=\"col-1\">\n                    <router-link to='/' class=\"logo\">\n                        <img src=\"../assets/Images/6degreesWeb/navBar/logo-light-blue.svg\" alt=\"icon\">\n                    </router-link>\n                </div>\n                <div class=\"col-11 d-flex\">\n                    <div class=\"pad-search-input\">\n                        <input name=\"\" id=\"\" class=\"\" type=\"input\" value=\"\" placeholder=\"請輸入關鍵字\" v-model=\"searchWorld\"\n                            @keyup.enter=\"searchSubmit\">\n                        <router-link :to=\"'/search/'+searchWorld\">\n                            <img src=\"../assets/Images/6degreesWeb/navBar/search.svg\" alt=\"\">\n                        </router-link>\n                    </div>\n                    <div class=\"user-donate\"><a href=\"#\">點數\n                            <img src=\"../assets/Images/6degreesWeb/icon/grayMoney.svg\" alt=\"\"> </a>\n                    </div>\n                    <!-- <div class=\"dropdown show\">\n                        <a class=\"dropdown-toggle user-language\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\"\n                            data-toggle=\"dropdown\">\n                            繁體中文<i class=\"fas fa-sort-down\"></i>\n                        </a>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                            <a class=\"dropdown-item\" href=\"#\">繁體中文</a>\n                            <a class=\"dropdown-item\" href=\"#\">簡體中文</a>\n                        </div>\n                    </div> -->\n                    <router-link class=\"user-photo\" to=\"/profile\">\n                        <div class=\"user-img\"><img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS0_2nqm0H20gpO-Pf9BsBwuAYt3McWcb-6rFs37i244h71Lyrnkg\"\n                                alt=\"\">\n                        </div>\n                        <i class=\"fas fa-angle-down\"></i>\n                    </router-link>\n                </div>\n            </div>\n            <div class=\"row\" style=\"margin-top:-26px;\">\n                <ul class=\"nav-list d-sm-block col-11 col-md-8\">\n                    <li class=\"home active\">\n                        <router-link to='/recommend'>首頁推薦</router-link>\n                    </li>\n                    <li v-for=\"(item, index) in navbarData \" :key=\"index\" v-if=\"index>0 & index < 7\">\n                        <router-link :to='\"/tagPage/\"+item.id' class=\"nav-item\">{{item.name}}</router-link>\n                    </li>\n                    <!-- <li class=\"dropdown show\">\n                        <a class=\"dropdown-toggle nav-item\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\">\n                            更多 <i class=\"fas fa-sort-down\"></i>\n                        </a>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                            <router-link class=\"dropdown-item\" :to='\"/tagPage/\"+item.id' v-for=\"(item, index) in navbarData\"\n                                :key=\"index\" v-if=\"index>6\">{{item.name}}</router-link>\n                        </div>\n                    </li> -->\n                </ul>\n            </div>\n        </nav>\n\n        <!-- 手機板header------------------------------------------------------------------ -->\n\n        <nav class=\"container-fluid pad-header d-block d-sm-none\">\n            <div class=\"row\">\n                <div class=\"col-1\">\n                    <router-link to='/' class=\"logo\">\n                        <img src=\"../assets/Images/6degreesWeb/navBar/logo-light-blue.svg\" alt=\"icon\">\n                    </router-link>\n                </div>\n                <div class=\"col-11 d-flex\">\n                    <div class=\"pad-search-input\">\n                        <input name=\"\" id=\"\" class=\"\" type=\"input\" value=\"\" placeholder=\"請輸入關鍵字\">\n                        <a href=\"#\">\n                            <img src=\"../assets/Images/6degreesWeb/navBar/search.svg\" alt=\"\">\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\" style=\"margin-top:-16px;\">\n                <div class=\"col-3\">\n                    <div class=\"user-donate\"><a href=\"#\">點數\n                            <img src=\"../assets/Images/6degreesWeb/icon/grayMoney.svg\" alt=\"\"> </a>\n                    </div>\n                </div>\n                <div class=\"col-6\">\n                    <!-- <div class=\"dropdown show\">\n                        <a class=\"dropdown-toggle user-language\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\"\n                            data-toggle=\"dropdown\">\n                            繁體中文<i class=\"fas fa-sort-down\"></i>\n                        </a>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                            <a class=\"dropdown-item\" href=\"#\">繁體中文</a>\n                            <a class=\"dropdown-item\" href=\"#\">簡體中文</a>\n                        </div>\n                    </div> -->\n                </div>\n                <div class=\"col-3 ml-auto\">\n                    <router-link class=\"user-photo\" to=\"/profile\">\n                        <div class=\"user-img\"><img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS0_2nqm0H20gpO-Pf9BsBwuAYt3McWcb-6rFs37i244h71Lyrnkg\"\n                                alt=\"\">\n                        </div>\n                        <i class=\"fas fa-angle-down\"></i>\n                    </router-link>\n                </div>\n            </div>\n            <div class=\"row\" style=\"border-bottom:3px solid #4A90E2\">\n                <div class=\"col-3\">\n                    <div class=\"dropdown show burger-bottom\">\n                        <a class=\"dropdown-toggle\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\">\n                            <i class=\"fas fa-bars\"></i>\n                        </a>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                            <router-link :to='\"/tagPage/\"+item.id' class=\"nav-item dropdown-item\" v-for=\"(item, index) in navbarData\"\n                                :key=\"index\" v-if=\"index>0\">{{item.name}}</router-link>\n                        </div>\n                    </div>\n\n                </div>\n                <div class=\"col-6\">\n                    <h2>\n                        <router-link to='/recommend'>首頁推薦</router-link>\n                    </h2>\n                </div>\n            </div>\n        </nav>\n\n        <!-- hotgat---------------------------------------------------------------------------- -->\n\n        <div class=\"hottag container-fluid d-flex\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-md-12\">\n                        <a href=\"#\" v-for='(item,key) in filterPopularData' :key=\"key\" v-if=\"key<8\">{{item}}</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"container\" style=\"z-index:10;\">\n            <div class=\"row\">\n                <div class=\"col-lg-8\">\n                    <div class=\"inspect\">\n                        <h1>{{filterData.title}}</h1>\n                        <div class=\"news-source\">\n                            <span>{{filterData.datasource_name}}</span>\n                            <span><img src=\"../assets/Images/6degreesWeb/news/time.svg\" alt=\"\">08:12</span>\n                            <span><img src=\"../assets/Images/6degreesWeb/news/views.svg\" alt=\"\">586</span>\n                        </div>\n                        <div class=\"news-tag\">\n                            <span><a href=\"#\" v-for='(item,key) in filterData.tag' :key='key'>{{item.name}}</a></span>\n                        </div>\n                        <div class=\"inspect-img\">\n                            <div class=\"img\" :style=\"{ backgroundImage: 'url(' + filterData.media[0].large + ')' }\">\n                            </div>\n                        </div>\n                        <p class=\"inspect-img-source\">{{filterData.datasource_name}} <span></span></p>\n                        <p>{{filterData.content}}</p>\n                    </div>\n                    <div class=\"inspect-user-message\">\n                        <h2>留言<i class=\"far fa-comment\"></i><span>20</span> </h2>\n                        <div class=\"inspect-message-card d-flex mt-5\">\n                            <div class=\"inspect-messager-photo\" style=\"background-image:url('https://gen.caca01.com/img/us_visa.jpg') \"></div>\n                            <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"說說你的想法\"></textarea>\n                        </div>\n                    </div>\n                    <div class=\"inspect-comment-message\">\n                        <div class=\"inspect-message-card d-flex mt-5\">\n                            <div class=\"inspect-messager-photo\" style=\"background-image:url('https://gen.caca01.com/img/us_visa.jpg') \"></div>\n                            <div class=\"inspect-comment-message-name\">\n                                <h3>用戶姓名</h3>\n                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate natus aliquam\n                                    perspiciatis itaque numquam quae vitae tenetur animi cumque ad aperiam, ipsum\n                                    inventore eaque labore alias reprehenderit quaerat, perferendis ipsa illo, veniam\n                                    eveniet a neque! Perferendis placeat vero illum. Qui eaque ea nihil sed placeat.\n                                    Aperiam, incidunt? Sequi, consequatur quae.</p>\n                                <div class=\"inspect-comment-message-button\">\n                                    <a href=\"#\"><i class=\"fas fa-reply\"></i>reply</a>\n                                    <a href=\"#\">Repliec(513)</a>\n                                    <a href=\"#\"><i class=\"far fa-thumbs-up\">1312</i></a>\n                                    <a href=\"#\"><i class=\"far fa-thumbs-down\">199</i></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div id='loadingBar' class=\"refresh-bar\">\n                        <a href=\"#\">\n                            <img class=\"d-none d-md-block\" src=\"../assets/Images/6degreesWeb/other/loading-md.svg\" alt=\"\"\n                                style=\"width:100%;height: 48px;\">\n                            <img class=\"d-block d-md-none\" src=\"../assets/Images/6degreesWeb/other/loading-sm.svg\" alt=\"\"\n                                style=\"width:100%;height: 48px;\">\n                            <span>加載更多</span>\n                        </a>\n                    </div>\n\n                    <div class=\"recommendNews\">\n                        <h2>相關新聞推薦</h2>\n                        <div class=\"news container\" v-for=\"item in filterRecommendData\" :key=\"item.id\">\n                            <div class=\"row\">\n                                <div class=\"col-4\">\n                                    <router-link :to=\"'/inspect/'+item.id\" class=\"news-img\" :style=\"{ backgroundImage: 'url(' + item.media.small + ')' }\"></router-link>\n                                    <!-- <a :href=\"item.news_url\" class=\"news-img\" :style=\"{ backgroundImage: 'url(' + item.media.small + ')' }\">\n                                    </a> -->\n                                </div>\n                                <div class=\"col-8\">\n                                    <h3>{{item.title}}</h3>\n                                    <div class=\"news-tag\">\n                                        <span>{{item.datasource_name}}</span>\n                                        <span><img src=\"../assets/Images/6degreesWeb/news/time.svg\" alt=\"\">{{\n                                            item.report_time | moment(\"h:mm\") }}\n                                        </span>\n                                        <span><img src=\"../assets/Images/6degreesWeb/news/views.svg\" alt=\"\">1125</span>\n                                    </div>\n                                    <div class=\"news-tag_gray\" v-if='item.tag'>\n                                        <span>\n                                            <img src=\"../assets/Images/6degreesWeb/news/tag-icon.svg\" alt=\"\">\n                                            <span v-for=\"tag in item.tag\" :key=\"tag.id\">\n                                                {{ tag.name }}\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n                <sidebar></sidebar>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import navbar from \"../components/navbar.vue\";\n    import sidebar from \"../components/sidebar.vue\";\n    import $ from \"jquery\";\n    export default {\n        components: {\n            navbar,\n            sidebar\n        },\n        name: \"inspectPage\",\n        props: {\n            msg: String\n        },\n        data() {\n            return {\n                domain: \"http://api.dev.sixdegreeworld.com\",\n                Token: \"\",\n                Token_type: \"\",\n                data: [\n                    {\n                        media: []\n                    }\n                ],\n                recommendData: [\n                    {\n                        media: []\n                    }\n                ],\n                navbarData: [],\n                popularData: [],\n                isLoading: false\n            };\n        },\n        computed: {\n            filterData: function () {\n                if (this.data.media == null || this.data.media == []) {\n                    this.data.media = [\n                        {\n                            large: \"https://newweb.dev.sixdegreeworld.com/sixdegree.svg\"\n                        }\n                    ];\n                } else {\n                    return this.data;\n                }\n                return this.data;\n            },\n            filterRecommendData: function () {\n                let nowData = this.recommendData.map(function (el) {\n                    if (el.media == [] || el.media == null) {\n                        el.media = {\n                            small: \"https://newweb.dev.sixdegreeworld.com/sixdegree.svg\"\n                        };\n                        return el;\n                    } else {\n                        return el;\n                    }\n                });\n                return nowData;\n            },\n            filterPopularData: function () {\n                let nowData = this.popularData.map(function (el) {\n                    return el.name\n                })\n                return nowData;\n            }\n        },\n        methods: {\n            init() {\n                const vm = this;\n                vm.isLoading = true;\n                $.ajax({\n                    //get token\n\n                    type: \"Post\",\n                    url: this.domain + \"/oauth/token/\",\n                    data: {\n                        grant_type: \"client_credentials\",\n                        client_id: \"1\",\n                        client_secret: \"zSVE2Bd64icnRyo7VSo997rriPLDPMbY9LmmIurv\"\n                    },\n                    success: function (data) {\n                        vm.isLoading = false;\n                        if (data == \"\") {\n                            //沒資料的動作\n                        } else {\n                            vm.Token = data.data.access_token;\n                            vm.Token_type = data.data.token_type;\n                            //有資料的動作\n                            vm.getOneNews();\n                            vm.getRecommend();\n                            vm.getPopular();\n                            //取得文章資料\n                        }\n                    },\n                    failure: function (errMsg) {\n                        console.log(errMsg);\n                        //發生錯誤的動作\n                    }\n                });\n            },\n            getOneNews() {\n                const id = this.$route.params.id;\n                console.log(id);\n                const api = this.domain + `/article/${id}`;\n                const vm = this;\n                vm.isLoading = true;\n                $.ajax({\n                    type: \"Get\",\n                    url: vm.domain + `/article/${id}`,\n                    headers: {\n                        Authorization: vm.Token_type + \" \" + vm.Token,\n                        \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\n                    },\n                    success: function (data) {\n                        vm.isLoading = false;\n                        if (data == \"\") {\n                            //沒資料的動作\n                        } else {\n                            //有資料的動作\n                            vm.data = data.data;\n                            vm.isLoading = false;\n                        }\n                    },\n                    failure: function (errMsg) {\n                        console.log(errMsg);\n                        //發生錯誤的動作\n                    }\n                });\n            },\n            getRecommend() {\n                const vm = this;\n                $.ajax({\n                    type: \"Get\",\n                    url: vm.domain + `/article/recommend?page=1&limit=10`,\n                    headers: {\n                        Authorization: vm.Token_type + \" \" + vm.Token,\n                        \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\n                    },\n                    success: function (data) {\n                        vm.isLoading = false;\n                        if (data == \"\") {\n                            //沒資料的動作\n                        } else {\n                            //有資料的動作\n                            vm.recommendData = data.data;\n                        }\n                    },\n                    failure: function (errMsg) {\n                        console.log(errMsg);\n                        //發生錯誤的動作\n                    }\n                });\n            },\n            getPopular() {\n                const vm = this;\n                vm.isLoading = true;\n                $.ajax({\n                    type: \"Get\",\n                    url: vm.domain + `/search/popular`,\n                    headers: {\n                        \"Authorization\": vm.Token_type + \" \" + vm.Token,\n                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                    },\n                    success: function (data) {\n                        vm.isLoading = false;\n                        if (data == \"\") {\n                            //沒資料的動作\n                        } else {\n                            //有資料的動作\n                            vm.popularData = data.data;\n                            vm.isLoading = false;\n                        }\n                    },\n                    failure: function (errMsg) {\n                        console.log(errMsg);\n                        //發生錯誤的動作\n                    }\n                })\n            },\n            toTop() {\n                $(\"html, body\").animate(\n                    {\n                        scrollTop: 0\n                    },\n                    800\n                );\n            }\n        },\n        mounted() {\n            this.toTop();\n            this.init();\n        }\n    };\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style leng=\"scss\">\n</style>"]}]}